<!DOCTYPE html>
<html>
    <head>
        <title>Sneakers</title>
        
        <style>
            /* Chat containers */
            .container {
              border: 2px solid #dedede;
              background-color: #f1f1f1;
              border-radius: 5px;
              padding: 10px;
              margin: 10px 0;
            }

            /* Darker chat container */
            .darker {
              border-color: #ccc;
              background-color: #ddd;
            }

            /* Clear floats */
            .container::after {
              content: "";
              clear: both;
              display: table;
            }

            /* Style images */
            .container img {
              float: left;
              max-width: 60px;
              width: 100%;
              margin-right: 20px;
              border-radius: 50%;
            }

            /* Style the right image */
            .container img.right {
              float: right;
              margin-left: 20px;
              margin-right:0;
            }

            /* Style time text */
            .time-right {
              float: right;
              color: #aaa;
            }

            /* Style time text */
            .time-left {
              float: left;
              color: #999;
            }
        </style>
    </head>
    
    <body>
        <div align="center">
            <h1>Sneakers</h1>
        </div>
        
        <div id="chatBox"></div>
    
        
        <div>
            <p id="typeNotifier" style="display: none;">Sneakers is typing...</p>
            <textarea id="userInput" rows="4" cols="190" placeholder="Type here to send a message to Sneakers. Press Enter to send." ></textarea>
        </div>
        
        <script>
            function random(items){
                var item = items[Math.floor(Math.random() * items.length)]; 
                return item;
             }
            
            function grabTime(){
                let d = new Date();
                let type;
                let hours = parseInt(d.getHours());
                let minutes = d.getMinutes().toString();
                
                
                
                if(hours > 12){
                    hours = hours - 12;
                    type = "PM";
                }else{
                    type = "AM";
                }
                
                
                if(minutes.length == 1){
                    minutes = `0${minutes}`;
                }
                
                
                
                return `${hours}:${minutes} ${type}`;
                
                
            }
            
            
            let responseTimes = [3000, 2000, 4000];
            let input = document.getElementById("userInput");
            let chatBox = document.getElementById("chatBox");
            let typeNotifier = document.getElementById("typeNotifier");
            
            
            input.addEventListener("keyup", function(event){
                
               // New code block to implement with class
                if(input.value.trim() == ""){
                        return;
                }
               // New code ^^^
                
                let message = input.value;
                let newMessageBox = document.createElement('div');
                newMessageBox.classList.add("container");
                
                newMessageBox.innerHTML = `<img src="./user.webp" alt="Avatar">
                <p>${message}</p>
                <span class="time-right">${grabTime()}</span>`;
                
                
                
                if(event.keyCode == 13){
                    event.preventDefault();
                    

                    input.value = " ";
                    chatBox.appendChild(newMessageBox);
                    typeNotifier.style.display = "block";  

                    message = message.toString();
                    message = message.replace(/(\r\n|\n|\r)/gm, "");
                    message = message.toLowerCase();



                    if(message.includes("hello") || message.includes("hi") || message.includes("hey")){
                       response = "Hi!";
                    }else if(message.includes("your name")){
                       response = "My name...? I'm Lebron James.";      
                    }else if(message.includes("your favorite color")){
                       response = "I like yellow.";      
                    }else if(message.includes("how are you")){
                       response = random(["I'm pretty good...", "You tell me... been thinking about moving into a different work situation.", "idk, I am a robot"]);      
                    }else if(message.includes("is code for life")){
                       response = "Code For Life is a tech collective working to introduce more youth to tech and its opportunities. Check it out at https://www.codeforlife.us.";      
                    }else if(message.includes("what time is it")){
                       response = "If I'm running on a Mac OS, check the top right corner for the time. If I'm a Windows OS, check the bottom right. Here to help lol.";      
                    }else if(message.includes("thanks")){
                       response = random(["Sure.", "You're welcome", "Don't mention it.", "That's why I'm here."]);      
                    }else if(message.includes("is quarantine over")){
                       response = "According to city officials, we are currently in Phase 1 of the reopening process in NYC." 
                    }else if(message.includes("that makes sense")){
                       response = random(["=)", "Sure does.", "Yep."]);      
                    }else if(message.includes("ttyl")){
                       response = random(["Gone so fast?!", "Do you really have to go?", "Ok, I'll be here when you get back."]);      
                    }else if(message.includes("lol")){
                       response = random(["What's funny? lol", "Not laughing... lol", "lol"]);      
                    }else if(message.includes("are you there")){
                       response = "Honestly can't be anywhere else...";      
                    }else if(message.includes("better than michael jordan")){
                       response = "MJ has 6 rings and Lebron has 3. If Bron can win 2 championships with the Lakers, we may have an argument.";
                    }else if(message.includes("miss basketball")){
                       response = "So. Do. I. I did hear that the NBA is looking to continue the season in late July.";     
                    }else if(message.includes("should I eat")){
                       response = "It might be better to ask someone who eats... still an AI...";      
                    }else if(message.includes("your favorite basketball player")){
                       response = "Me. LeBron James...";      
                    }else if(message.includes("mr. qa")){
                       response = "Patrick Sanchez... Sorry Joandy.";      
                    }else if(message.includes("wendi")){
                       response = "I know one thing word that comes to mind when I think about Wendi Flores...  KPOP!";     
                    }else if(message.includes("joandy")){
                       response = "Joandy? He's a pretty cool kid... Great work ethic...";      
                    }else if(message.includes("ian")){
                       response = random(["Ian is probably wearing his gaming headphones right now.", "Super intelligent kid"]);      
                    }else if(message.includes("chris troy")){
                       response = "Great guy. Founder & Catalyst of Code For Life";      
                    }else if(message.includes("going outside")){
                       response = "trying be a computer program for one hour... new levels of frustration";      
                    }else if(message.includes("word")){
                       response = "I'm not lying.";      
                    }else if(message.includes("i hear you")){
                       response = "Good to be heard";      
                    }else if(message.includes("say less") || message.includes("true")){
                       response = "Nuff said...";      
                    }else{
                        response = random(["Wait, what?", "Que?", "uhh"]);
                    }  

                       



                    setTimeout(function(){

                        let newAIresponse = document.createElement('div');
                        newAIresponse.classList.add("container");
                        newAIresponse.classList.add("darker");
                        newAIresponse.innerHTML = `<img src="./sneakers.png" alt="Avatar">
                        <p>${response}</p>
                        <span class="time-right">${grabTime()}</span>`;

                        chatBox.appendChild(newAIresponse);

                        typeNotifier.style.display = "none";

                    },random(responseTimes));
                    
                
                      
                    

                }
                
                
                
                
            });
            
            
        
        </script>
    </body>


</html>